{% extends "accounts/base.html" %}
{% load static %}

{% block title %}
    Change Password
{% endblock title %}

{% block form_title %}
    Change Password
{% endblock form_title %}

{% block content %}
    <form action="{% url "accounts:change_password" %}"
          method="post"
          id="set-new-password-form">
        <div class="form-group">
            <label for="{{ form.old_password.id_for_label }}">Current Password</label>
            <div class="input-group">
                <input type="password"
                       class="form-control password-field"
                       id="id_old_password"
                       name="old_password"
                       placeholder="Password"
                       required>
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fa fa-eye password-toggle"></i></span>
                </div>
            </div>
            {% if form.old_password.errors %}<div class="error">{{ form.old_password.errors.as_text }}</div>{% endif %}
        </div>
        <div class="form-group">
            <label for="{{ form.new_password1.id_for_label }}">New Password</label>
            <div class="input-group">
                <input type="password"
                       class="form-control password-field"
                       id="id_new_password1"
                       name="new_password1"
                       placeholder="Password"
                       required>
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fa fa-eye password-toggle"></i></span>
                </div>
            </div>
            {% if form.new_password1.errors %}<div class="error">{{ form.new_password1.errors.as_text }}</div>{% endif %}
        </div>
        <div class="form-group">
            <label for="{{ form.new_password2.id_for_label }}">Confirm New Password</label>
            <div class="input-group">
                <input type="password"
                       class="form-control password-field"
                       id="id_new_password2"
                       name="new_password2"
                       placeholder="Password"
                       required>
                <div class="input-group-append">
                    <span class="input-group-text"><i class="fa fa-eye password-toggle"></i></span>
                </div>
            </div>
            {% if form.new_password2.errors %}<div class="error">{{ form.new_password2.errors.as_text }}</div>{% endif %}
        </div>
        <div class="mt-3">
            <button type="submit" class="btn btn-primary">Update</button>
            <a href="{% url "shop:index" %}" class="btn btn-secondary">Cancel</a>
        </div>
        {% csrf_token %}
    </form>
{% endblock content %}
